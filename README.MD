# Laptop Repair Backend

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–æ –ø—Ä–∏—ë–º—É –∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞—è–≤–æ–∫ –Ω–∞ —Ä–µ–º–æ–Ω—Ç —Ç–µ—Ö–Ω–∏–∫–∏ (–Ω–æ—É—Ç–±—É–∫–æ–≤ –∏ –¥—Ä.). –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —É–ø—Ä–∞–≤–ª—è—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏, –∑–∞—è–≤–∫–∞–º–∏, –¥–µ—Ç–∞–ª—è–º–∏ –∏ –∑–∞–∫–∞–∑–∞–º–∏ –Ω–∞ –¥–µ—Ç–∞–ª–∏, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—é –∏ —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

---

## üõ† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Node.js
- Express.js
- PostgreSQL
- bcryptjs (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π)
- Swagger UI (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- dotenv (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)

---

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
npm install
```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```
PORT=3000
DATABASE_URL=postgresql://postgres:1234@localhost:5432/laptop-service-db
JWT_SECRET=your_jwt_secret
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:

```bash
node index.js
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:3000`.

---

## üìÅ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`.env.example`)

```env
PORT=3000
DATABASE_URL=postgresql://postgres:1234@localhost:5432/laptop-service-db
JWT_SECRET=your_jwt_secret
```

---

## üì° API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### üîê Auth (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å                   | –û–ø–∏—Å–∞–Ω–∏–µ                    |
|-------|------------------------|-----------------------------|
| POST  | `/api/auth/register`   | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| POST  | `/api/auth/login`      | –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è           |

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:

```json
{
  "phone": "89001234567",
  "password": "1234",
  "full_name": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
  "email": "ivanov@example.com",
  "role": "user"
}
```

---

### üíº Cases (–∑–∞—è–≤–∫–∏)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å                     | –û–ø–∏—Å–∞–Ω–∏–µ                    |
|-------|--------------------------|-----------------------------|
| GET   | `/api/cases`             | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞—è–≤–∫–∏         |
| GET   | `/api/cases/:id`         | –ü–æ–ª—É—á–∏—Ç—å –∑–∞—è–≤–∫—É –ø–æ ID       |
| POST  | `/api/cases`             | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É        |
| PATCH | `/api/cases/:id/status`  | –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏      |
| DELETE| `/api/cases/:id`         | –£–¥–∞–ª–∏—Ç—å –∑–∞—è–≤–∫—É –ø–æ ID        |

–ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏:

```json
{
  "full_name": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
  "email": "ivanov@example.com",
  "phone": "89001234567",
  "description": "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è",
  "status": "accepted",
  "device_id": 3
}
```

---

### üíª Devices (—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å                     | –û–ø–∏—Å–∞–Ω–∏–µ                    |
|-------|--------------------------|-----------------------------|
| GET   | `/api/devices`           | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞     |
| GET   | `/api/devices/:id`       | –ü–æ–ª—É—á–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ ID   |
| POST  | `/api/devices`           | –î–æ–±–∞–≤–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ         |
| PUT   | `/api/devices/:id`       | –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞  |
| DELETE| `/api/devices/:id`       | –£–¥–∞–ª–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ          |

---

### üîß Parts (–∑–∞–ø—á–∞—Å—Ç–∏)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å                             | –û–ø–∏—Å–∞–Ω–∏–µ                      |
|-------|----------------------------------|-------------------------------|
| GET   | `/api/parts`                     | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–µ—Ç–∞–ª–∏           |
| GET   | `/api/parts/device/:device_id`   | –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –ø–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É |
| POST  | `/api/parts`                     | –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å               |
| DELETE| `/api/parts/:id`                 | –£–¥–∞–ª–∏—Ç—å –¥–µ—Ç–∞–ª—å                |

---

### üì¶ Part Orders (–∑–∞–∫–∞–∑—ã –Ω–∞ –¥–µ—Ç–∞–ª–∏)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å                 | –û–ø–∏—Å–∞–Ω–∏–µ                    |
|-------|----------------------|-----------------------------|
| GET   | `/api/part-orders`   | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–∫–∞–∑—ã         |
| POST  | `/api/part-orders`   | –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑               |

---

## üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ login-–∑–∞–ø—Ä–æ—Å:  
–û—Ç–≤–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `userId` –∏ `role`, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ `localStorage` –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ. JWT **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**.

---

## üìë Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://localhost:3000/docs
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project-root/
‚îÇ
‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îú‚îÄ‚îÄ authController.js
‚îÇ   ‚îú‚îÄ‚îÄ caseController.js
‚îÇ   ‚îú‚îÄ‚îÄ deviceController.js
‚îÇ   ‚îú‚îÄ‚îÄ partController.js
‚îÇ   ‚îî‚îÄ‚îÄ partOrderController.js
‚îÇ
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ auth.js
‚îÇ   ‚îú‚îÄ‚îÄ cases.js
‚îÇ   ‚îú‚îÄ‚îÄ devices.js
‚îÇ   ‚îú‚îÄ‚îÄ parts.js
‚îÇ   ‚îî‚îÄ‚îÄ partOrders.js
‚îÇ
‚îú‚îÄ‚îÄ db.js
‚îú‚îÄ‚îÄ index.js
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ swagger.js
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–µ —Ä–∞–±–æ—Ç—É backend API —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Swagger UI.

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
![–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è](img/1.png)

### 2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
![–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è](img/2.png)

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–∏
![–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏](img/3.png)

### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞—è–≤–æ–∫
![–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫](img/4.png)

### 5. –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏
![–£–¥–∞–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏](img/5.png)

### 6. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (ER-–¥–∏–∞–≥—Ä–∞–º–º–∞)
![–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î](img/db.png)